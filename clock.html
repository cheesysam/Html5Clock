<!DOCTYPE html>
<html>
    <head>
	<title>Smooth Clock</title>
	<style>
body {
    background-color: #482483;
}
</style>
        
    </head>
    <body>
        <div class="parent">
            <div class="row">
                <div class="col1"> <canvas width = "200" height = "200" id = "canvas_round"></canvas></div>
            </div>
            <div class="row">
                <div class="col1"> <canvas width = "200" height = "200" id = "canvas_line"></canvas></div>
            </div>
        </div>
		<script type = "text/javascript">
            
            var line_canvas = document.getElementById("canvas_line");
			var line_context = line_canvas.getContext('2d');
			
			var round_canvas = document.getElementById("canvas_round");
			var round_context = round_canvas.getContext('2d');
 
			var line_canvas_width = line_canvas.width;
			var line_canvas_height = line_canvas.height;
			
			var round_canvas_width = round_canvas.width;
			var round_canvas_height = round_canvas.height;
			 
			var angle = 0;
			 
			var requestAnimationFrame = window.requestAnimationFrame || 
										window.mozRequestAnimationFrame || 
										window.webkitRequestAnimationFrame || 
										window.msRequestAnimationFrame;
            var barStart = 10;
            var barEnd = line_canvas_width - 10;
            var barLength = 0;

            var barGroupHeightOffset = 10;
           
            function handleZero(timeComponent)
            {
                if(timeComponent < 10)
                {
                    return "0" + timeComponent;
                }
                else
                {
                    return timeComponent;
                }
            }
           
            function lineFillClock()
            {
                line_context.clearRect(0, 0, line_canvas_width, line_canvas_height);
                var ctime = (new Date());
                var h = ctime.getHours();
                var mins = ctime.getMinutes();
                var secs = ctime.getSeconds();

                var ms = ctime.getMilliseconds();

                line_context.beginPath();
                line_context.moveTo(barStart, barGroupHeightOffset);
                line_context.lineTo(barEnd, barGroupHeightOffset);
                line_context.moveTo(barStart, barGroupHeightOffset + 10);
                line_context.lineTo(barEnd, barGroupHeightOffset + 10);
                line_context.moveTo(barStart, barGroupHeightOffset + 20);
                line_context.lineTo(barEnd, barGroupHeightOffset + 20);
                line_context.lineWidth = 2;
                line_context.strokeStyle = "#62478F";
                line_context.stroke();
				line_context.closePath();

                // Hours
                line_context.beginPath();
                line_context.lineWidth = 5;
                barLength = (((barEnd - barStart) / 24) * h) + (((barEnd - barStart) / 1440) * mins)
                line_context.moveTo(barStart, barGroupHeightOffset);
                line_context.lineTo(barLength + barStart, barGroupHeightOffset);
                line_context.strokeStyle = "#95B285";
                line_context.stroke();
				line_context.closePath();

                // 
                line_context.beginPath();
                line_context.lineWidth = 5;
                barLength = (((barEnd - barStart) / 60) * mins) + (((barEnd - barStart) / 3600) * secs)
                line_context.moveTo(barStart, barGroupHeightOffset + 10);
                line_context.lineTo(barLength + barStart, barGroupHeightOffset + 10);
                line_context.strokeStyle = "#C1AF27";
                line_context.stroke();
				line_context.closePath();

                // Seconds
                line_context.beginPath();
                line_context.lineWidth = 5;
                barLength = (((barEnd - barStart) / 60000) * ms) + (((barEnd - barStart) / 60) * secs)
                line_context.moveTo(barStart, barGroupHeightOffset + 20);
                line_context.lineTo(barLength + barStart, barGroupHeightOffset + 20);
                line_context.strokeStyle = "#8C1D74";
                line_context.stroke();
				line_context.closePath();

                requestAnimationFrame(lineFillClock);
            }

            function roundFillClock()
            {
                round_context.clearRect(0, 0, round_canvas_width, round_canvas_height);
                
                var ctime = (new Date());
                var h = ctime.getHours();
                var mins = ctime.getMinutes();
                var secs = ctime.getSeconds();
                var ms = ctime.getMilliseconds();

                canvas = document.getElementById('canvas_round')
               
                var clockString = "" + handleZero(h) + " " + handleZero(mins) + " " + handleZero(secs);
                var x = canvas.width / 2;
                var y = canvas.height / 2;
                
                round_context.textAlign = "center";
                round_context.font = "15px Consolas";
				round_context.fillStyle = "#95B285";
                round_context.fillText(clockString, x, y);
				
				round_context.beginPath();
                round_context.lineWidth = 2;
                round_context.arc(x, y, 80, -0.5 * Math.PI,1.5 * Math.PI, false);
                round_context.strokeStyle = "#62478F";
                round_context.stroke();
				round_context.closePath();
				
				round_context.beginPath();
                round_context.lineWidth = 2;
                round_context.arc(x, y, 70, -0.5 * Math.PI,1.5 * Math.PI, false);
                round_context.strokeStyle = "#62478F";
                round_context.stroke();
				round_context.closePath();
				
				round_context.beginPath();
                round_context.lineWidth = 2;
                round_context.arc(x, y, 60, -0.5 * Math.PI,1.5 * Math.PI, false);
                round_context.strokeStyle = "#62478F";
                round_context.stroke();
				round_context.closePath();
				
                // Hours
                round_context.beginPath();
                round_context.lineWidth = 10;
                round_context.arc(x, y, 80, 1.5 * Math.PI, (-0.5 + ((2.0/1440.0)*(h * 60.0 + mins)))* Math.PI, false);
                round_context.strokeStyle = "#95B285";
                round_context.stroke();
				round_context.closePath();
                
                // Minutes
                round_context.beginPath();
                round_context.lineWidth = 10;
                round_context.arc(x, y, 70, 1.5 * Math.PI, (-0.5 + ((2.0/3600.0)*(mins * 60.0 + secs))) * Math.PI, false);
                round_context.strokeStyle = "#C1AF27";
                round_context.stroke();
				round_context.closePath();
                
                // Seconds
                round_context.beginPath();
                round_context.lineWidth = 10;
                round_context.arc(x, y, 60, 1.5 * Math.PI, (-0.5 + ((2.0/60000.0)*(secs * 1000.0 + ms))) * Math.PI, false);
                round_context.strokeStyle = "#8C1D74";
                round_context.stroke();
				round_context.closePath();
                
                requestAnimationFrame(roundFillClock);
            }
			
			lineFillClock();
            roundFillClock();

        </script>
    </body>
</html>
