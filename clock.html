<html>
    <head>
        <script type = "text/javascript">
            
            window.onload=doload;
            var barStart = 10;
            var barEnd = 390;
            var barLength = 0;

            var barGroupHeightOffset = 50;

            function doload(){
                
                if(document.getElementById('canvas').getContext)context=document.getElementById('canvas').getContext('2d');
                context.save();

                context.font = "15px Arial";
                clock();
            }

            function clock(){

                context.clearRect(0, 0, 400, 200);
                var ctime = (new Date());
                var h = ctime.getHours();
                if (h < 10){
                    h = "0" + h;
                }
                var m = ctime.getMinutes();
                if (m < 10){
                    m = "0" + m;
                }
                var s = ctime.getSeconds();
                if (s < 10){
                    s = "0" + s;
                }

                var ms = ctime.getMilliseconds();

                var clockString = "" + h + ":" + m + ":" + s
                context.fillText(clockString, 10, 15);

                context.beginPath();
                context.moveTo(barStart, barGroupHeightOffset);
                context.lineTo(barEnd, barGroupHeightOffset);
                context.moveTo(barStart, barGroupHeightOffset + 10);
                context.lineTo(barEnd, barGroupHeightOffset + 10);
                context.moveTo(barStart, barGroupHeightOffset + 20);
                context.lineTo(barEnd, barGroupHeightOffset + 20);
                context.lineWidth = 2;
                context.strokeStyle = "#404040";
                context.stroke();

                context.beginPath();
                context.lineWidth = 5;
                barLength = (((barEnd - barStart) / 24) * h) + (((barEnd - barStart) / 1440) * m)
                context.moveTo(barStart, barGroupHeightOffset);
                context.lineTo(barLength + barStart, barGroupHeightOffset);
                context.strokeStyle = "#185B63";
                context.stroke();

                context.beginPath();
                context.lineWidth = 5;
                barLength = (((barEnd - barStart) / 60) * m) + (((barEnd - barStart) / 3600) * s)
                context.moveTo(barStart, barGroupHeightOffset + 10);
                context.lineTo(barLength + barStart, barGroupHeightOffset + 10);
                context.strokeStyle = "#C0261C";
                context.stroke();

                context.beginPath();
                context.lineWidth = 5;
                barLength = (((barEnd - barStart) / 60000) * ms) + (((barEnd - barStart) / 60) * s)
                context.moveTo(barStart, barGroupHeightOffset + 20);
                context.lineTo(barLength + barStart, barGroupHeightOffset + 20);
                context.strokeStyle = "#C59538";
                context.stroke();

                t=setTimeout(function(){doload()},5);
            }

        </script>
    </head>
    <body>
        <canvas width = "400" height = "200" id = "canvas"></canvas>
    </body>
</html>
