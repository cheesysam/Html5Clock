<html>
    <head>
        <script type = "text/javascript">
            
            window.onload=doload;
            var barStart = 10;
            var barEnd = 390;
            var barLength = 0;

            var barGroupHeightOffset = 50;

            function doload(){
                
                if(document.getElementById('canvas').getContext)context=document.getElementById('canvas').getContext('2d');
                context.save();

                lineFillClock();
                //roundClock();
            }
            
            function handleZero(timeComponent){
                if(timeComponent < 10){
                    return "0" + timeComponent;
                }else{
                    return timeComponent;
                }
            }
            function lineFillClock(){

                context.clearRect(0, 0, 400, 200);
                var ctime = (new Date());
                var h = handleZero(ctime.getHours());
                var m = handleZero(ctime.getMinutes());
                var s = handleZero(ctime.getSeconds());

                var ms = ctime.getMilliseconds();

                var clockString = "" + h + ":" + m + ":" + s
                //context.textAlign = "center";
                context.font = "15px Arial";
                context.fillText(clockString, 10, 15);

                context.beginPath();
                context.moveTo(barStart, barGroupHeightOffset);
                context.lineTo(barEnd, barGroupHeightOffset);
                context.moveTo(barStart, barGroupHeightOffset + 10);
                context.lineTo(barEnd, barGroupHeightOffset + 10);
                context.moveTo(barStart, barGroupHeightOffset + 20);
                context.lineTo(barEnd, barGroupHeightOffset + 20);
                context.lineWidth = 2;
                context.strokeStyle = "#404040";
                context.stroke();

                context.beginPath();
                context.lineWidth = 5;
                barLength = (((barEnd - barStart) / 24) * h) + (((barEnd - barStart) / 1440) * m)
                context.moveTo(barStart, barGroupHeightOffset);
                context.lineTo(barLength + barStart, barGroupHeightOffset);
                context.strokeStyle = "#185B63";
                context.stroke();

                context.beginPath();
                context.lineWidth = 5;
                barLength = (((barEnd - barStart) / 60) * m) + (((barEnd - barStart) / 3600) * s)
                context.moveTo(barStart, barGroupHeightOffset + 10);
                context.lineTo(barLength + barStart, barGroupHeightOffset + 10);
                context.strokeStyle = "#C0261C";
                context.stroke();

                context.beginPath();
                context.lineWidth = 5;
                barLength = (((barEnd - barStart) / 60000) * ms) + (((barEnd - barStart) / 60) * s)
                context.moveTo(barStart, barGroupHeightOffset + 20);
                context.lineTo(barLength + barStart, barGroupHeightOffset + 20);
                context.strokeStyle = "#C59538";
                context.stroke();

                t=setTimeout(function(){doload()},5);
            }

            function roundClock(){

                t=setTimeout(function(){doload()},5);
            }

        </script>
    </head>
    <body>
        <canvas width = "400" height = "200" id = "canvas"></canvas>
    </body>
</html>
