<html>
    <head>
        <script type = "text/javascript">
            
            window.onload=doload;
            var barStart = 10;
            var barEnd = 390;
            var barLength = 0

            function doload(){
                
                if(document.getElementById('canvas').getContext)context=document.getElementById('canvas').getContext('2d');
                context.save();

                context.font = "15px Arial";
                clock();
            }

            function clock(){

                context.clearRect(0, 0, 400, 200);
                var ctime = (new Date());
                var h = ctime.getHours();
                if (h < 10){
                    h = "0" + h;
                }
                var m = ctime.getMinutes();
                if (m < 10){
                    m = "0" + m;
                }
                var s = ctime.getSeconds();
                if (s < 10){
                    s = "0" + s;
                }

                var clockString = "" + h + ":" + m + ":" + s
                context.fillText(clockString, 10, 15);

                context.beginPath();
                context.lineWidth = "3";
                barLength = ((barEnd - barStart) / 24) * h
                context.moveTo(10, 110);
                context.lineTo(barLength + barStart, 110);
                context.stroke();

                context.beginPath();
                context.lineWidth = "3";
                barLength = ((barEnd - barStart) / 60) * m
                context.moveTo(10, 120);
                context.lineTo(barLength + barStart, 120);
                context.stroke();

                context.beginPath();
                context.lineWidth = "3";
                barLength = ((barEnd - barStart) / 60) * s
                context.moveTo(10, 130);
                context.lineTo(barLength + barStart, 130);
                context.stroke();

                t=setTimeout(function(){doload()},500);
            }

        </script>
    </head>
    <body>
        <canvas width = "400" height = "200" id = "canvas"></canvas>
    </body>
</html>
